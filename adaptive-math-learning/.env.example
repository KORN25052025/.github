# Adaptive Math Learning System - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME="Adaptive Math Learning"
APP_VERSION="2.0.0"
DEBUG=true
ENVIRONMENT=development  # development, staging, production

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Backend API URL (for frontend to connect to backend)
API_URL=http://localhost:8000/api/v1
# Backend host and port
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# Secret key for JWT tokens and session encryption (generate a secure random string)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production

# =============================================================================
# DATABASE
# =============================================================================
# SQLite (Development)
DATABASE_URL=sqlite:///./data/math_learning.db

# PostgreSQL (Production) - uncomment and configure for production
# DATABASE_URL=postgresql://user:password@localhost:5432/math_learning
# DATABASE_POOL_SIZE=5
# DATABASE_MAX_OVERFLOW=10

# Supabase (Alternative Production) - if using Supabase
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# AI INTEGRATION
# =============================================================================

# Anthropic Claude API (Primary LLM for Turkish story generation)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# OpenAI API (DALL-E 3 for image generation, fallback LLM)
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo
DALLE_MODEL=dall-e-3

# =============================================================================
# ANALYTICS & A/B TESTING
# =============================================================================

# PostHog (Analytics and A/B testing)
# Get your key at: https://posthog.com/
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# BKT (Bayesian Knowledge Tracing) Parameters
# =============================================================================
# Default values from Corbett & Anderson (1994)
BKT_P_L0=0.1    # Initial mastery probability
BKT_P_T=0.3     # Learn rate (probability of learning after practice)
BKT_P_G=0.25    # Guess rate (correct without mastery)
BKT_P_S=0.1     # Slip rate (incorrect despite mastery)

# =============================================================================
# QUESTION GENERATION
# =============================================================================
QUESTION_TIMEOUT_SECONDS=3
MAX_DISTRACTORS=3
ENABLE_STORY_GENERATION=true
ENABLE_VISUAL_GENERATION=true
DEFAULT_LANGUAGE=tr  # Turkish

# =============================================================================
# GAMIFICATION
# =============================================================================
ENABLE_GAMIFICATION=true
ENABLE_LEADERBOARD=true
XP_MULTIPLIER=1.0

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD_SECONDS=60

# =============================================================================
# CORS (for mobile app access)
# =============================================================================
CORS_ORIGINS=*  # Comma-separated list for production, e.g., https://app.example.com

# =============================================================================
# LEGACY SETTINGS (kept for backward compatibility)
# =============================================================================
EMA_ALPHA=0.3
INITIAL_MASTERY=0.5
