["\"\"\"","Accessibility and Inclusivity Service for the Adaptive Math Learning Platform.","","Provides text-to-speech, multi-language support, accessibility settings,","and special education accommodations for a Turkish math learning platform.","Supports Turkish (tr), English (en), Kurdish (ku), and Arabic (ar).","\"\"\"","","from __future__ import annotations","","import hashlib","import random","import re","import uuid","from dataclasses import dataclass, field","from datetime import datetime","from enum import Enum","from typing import Any, Dict, List, Optional, Tuple","","","# ---------------------------------------------------------------------------","# Enums","# ---------------------------------------------------------------------------","","class ColorBlindMode(Enum):","    \"\"\"Supported colour-blindness simulation / accommodation modes.\"\"\"","    NONE = \"none\"","    PROTANOPIA = \"protanopia\"","    DEUTERANOPIA = \"deuteranopia\"","    TRITANOPIA = \"tritanopia\"","","","class DyslexiaFont(Enum):","    \"\"\"Font options optimised for readers with dyslexia.\"\"\"","    DEFAULT = \"default\"","    OPENDYSLEXIC = \"OpenDyslexic\"","    LEXIE_READABLE = \"LexieReadable\"","    COMIC_SANS = \"ComicSans\"","","","class SimplificationLevel(Enum):","    \"\"\"How aggressively a question is simplified.\"\"\"","    MINIMAL = \"minimal\"","    MODERATE = \"moderate\"","    MAXIMUM = \"maximum\"","","","# ---------------------------------------------------------------------------","# Data-classes","# ---------------------------------------------------------------------------","","@dataclass","class AccessibilityPreferences:","    \"\"\"Full set of per-user accessibility preferences.\"\"\"","    user_id: str","    font_size: int = 16","    high_contrast: bool = False","    dyslexia_font: DyslexiaFont = DyslexiaFont.DEFAULT","    color_blind_mode: ColorBlindMode = ColorBlindMode.NONE","    screen_reader_mode: bool = False","    reduced_motion: bool = False","    language: str = \"tr\"","    auto_read_questions: bool = False","    extra_time_multiplier: float = 1.0","    simplified_ui: bool = False","    text_spacing: float = 1.0","    cursor_size: str = \"normal\"","    updated_at: str = field(default_factory=lambda: datetime.utcnow().isoformat())","","    def __post_init__(self) -> None:","        self.extra_time_multiplier = max(1.0, min(3.0, self.extra_time_multiplier))","        self.font_size = max(12, min(32, self.font_size))","        self.text_spacing = max(1.0, min(3.0, self.text_spacing))","","","@dataclass","class GlossaryEntry:","    \"\"\"A single maths-term entry with translations and definitions.\"\"\"","    term_id: str","    term_tr: str","    term_en: str","    term_ku: str","    term_ar: str","    definition_tr: str","    definition_en: str","    definition_ku: str","    definition_ar: str","    example: Optional[str] = None","    related_terms: List[str] = field(default_factory=list)","    difficulty_level: int = 1","","","@dataclass","class SimplifiedQuestion:","    \"\"\"A question rewritten / restructured for special-needs learners.\"\"\"","    original_question_id: str","    simplified_text: str","    visual_aids: List[str]","    step_by_step_breakdown: List[str]","    vocabulary_hints: Dict[str, str]","    estimated_extra_time_seconds: int","    simplification_level: SimplificationLevel = SimplificationLevel.MODERATE","","","@dataclass","class SpeechResult:","    \"\"\"Result of a text-to-speech synthesis request.\"\"\"","    audio_url: str","    duration_seconds: float","    language: str","    text_hash: str","    created_at: str = field(default_factory=lambda: datetime.utcnow().isoformat())","","","@dataclass","class ScaffoldingSupport:","    \"\"\"Additional scaffolding for a question.\"\"\"","    question_id: str","    visual_aids: List[str]","    verbal_prompts: List[str]","    manipulative_suggestions: List[str]","    real_world_connections: List[str]","    prerequisite_skills: List[str]","    simplification_level: SimplificationLevel"]